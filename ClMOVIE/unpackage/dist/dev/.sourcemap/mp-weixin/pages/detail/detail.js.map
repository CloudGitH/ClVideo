{"version":3,"sources":["webpack:///D:/HbuilderXCode/ClMOVIE/main.js","webpack:///D:/HbuilderXCode/ClMOVIE/pages/detail/detail.vue?2bea","webpack:///D:/HbuilderXCode/ClMOVIE/pages/detail/detail.vue?ed9f","webpack:///D:/HbuilderXCode/ClMOVIE/pages/detail/detail.vue?2bdb","webpack:///D:/HbuilderXCode/ClMOVIE/pages/detail/detail.vue?78c0","webpack:///D:/HbuilderXCode/ClMOVIE/pages/detail/detail.vue","webpack:///D:/HbuilderXCode/ClMOVIE/pages/detail/detail.vue?1f48","webpack:///D:/HbuilderXCode/ClMOVIE/pages/detail/detail.vue?7093"],"names":["createPage","Page","data","showVideo","trailerId","directorlData","performerData","detailData","components","fraction","onLoad","param","getDetailData","getDirectorlData","getPerformerData","uni","createVideoContext","onShow","info","getStorageSync","id","onHide","me","videoContext","console","log","stop","onShareAppMessage","res","title","name","path","onNavigationBarButtonTap","e","type","switchTab","url","share","provider","scene","href","imageUrl","poster","summary","plotDesc","substr","success","JSON","stringify","fail","err","methods","showToast","icon","mask","duration","heroReest","status","plotPics","parse","complete","hideToast","previewPlotPics","index","previewImage","urls","current","previewPersonnePics","previewAllArr","forEach","item","push","photo","toDetailPicPage","cover","navigateTo"],"mappings":"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","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=51b715be&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"HbuilderXCode/ClMOVIE/pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=51b715be&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport fraction from '../../componets/fraction.vue';\nexport default {\n  data() {\n    return {\n      showVideo: false,\n      trailerId: '',\n      directorlData: null,\n      performerData: null,\n      detailData: null\n    }\n  },\n  components: {\n    fraction\n  },\n  onLoad(param) {\n    this.trailerId = param.trailerId;\n    this.getDetailData();\n    this.getDirectorlData();\n    this.getPerformerData();\n    uni.createVideoContext('onlyVideo')\n  },\n  onShow() {\n    var info = uni.getStorageSync('globalUser');\n    if(info.id == '20042402382S223C') {\n      this.showVideo = true\n    }\n  },\n  onHide() {\n    \n    var me = this;\n    if( me.videoContext ){\n      console.log('有videoContext')\n      me.videoContext.stop()\n    }\n  },\n  // 微信小程序自带的分享触发\n  onShareAppMessage(res) {\n    var me = this;\n    return {\n      title: '来自ClMOIVE的电影 {' + me.detailData.name + '}',\n      path: '/pages/detail/detail?trailerId=' + me.trailerId\n    }\n  },\n  // 导航栏自定义的按钮事件监听\n  onNavigationBarButtonTap(e) {\n    var me = this;\n    if( e.type == 'home' ) {\n      uni.switchTab({\n        url:\"../index/index\"\n      })\n    }\n    if( e.type==\"share\" ) {\n      uni.share({\n          provider: \"weixin\",\n          scene: \"WXSenceTimeline\",\n          type: 0,\n          href: \"http://www.imovietrailer.com/#/pages/movie/movie?trailerId=\" + me.trailerId,\n          title: '来自ClMOIVE的电影 {' + me.detailData.name + '}',\n          imageUrl: me.detailData.poster,\n          summary: me.detailData.plotDesc.substr(0,20) + '.....',\n          success: function (res) {\n              console.log(\"success:\" + JSON.stringify(res));\n          },\n          fail: function (err) {\n              console.log(\"fail:\" + JSON.stringify(err));\n          }\n      });\n    }\n  },\n  methods: {\n    // 请求预告页详情\n    getDetailData () {\n      uni.showToast({\n          title: '加载中',\n          icon: \"loading\",\n          mask: true,\n          duration: 5000\n      });\n      var me = this;\n      me.heroReest({\n        'url': '/search/trailer/' + me.trailerId,\n        'data': {\n          'trailerId': me.trailerId\n        },\n        success : function(res){\n          if( res.data.status == 200 ){\n            me.detailData = res.data.data;\n            me.detailData.plotPics = JSON.parse(me.detailData.plotPics)\n          }\n        },\n        complete: function() {\n          uni.hideToast()\n        }\n      })\n    },\n    // 请求导演数据\n    getDirectorlData () {\n      // uni.showToast({\n      //     title: '加载中',\n      //     icon: \"loading\",\n      //     mask: true,\n      //     duration: 5000\n      // });\n      var me = this;\n      me.heroReest({\n        'url': '/search/staff/' + me.trailerId + '/1',\n        'data': {\n          'trailerId': me.trailerId,\n          \"role\": 1\n        },\n        success : function(res){\n          if( res.data.status == 200 ){\n            me.directorlData = res.data.data;\n          }\n        },\n        complete: function() {\n          // uni.hideToast()\n        }\n      })\n    },\n    //请求演员数据\n     getPerformerData () {\n       // uni.showToast({\n       //     title: '加载中',\n       //     icon: \"loading\",\n       //     mask: true,\n       //     duration: 5000\n       // });\n       var me = this;\n       me.heroReest({\n         'url': '/search/staff/' + me.trailerId + '/2',\n         'data': {\n           'trailerId': me.trailerId,\n           \"role\": 2\n         },\n         success : function(res){\n           if( res.data.status == 200 ){\n             me.performerData = res.data.data;\n           }\n         },\n         complete: function() {\n           // uni.hideToast()\n         }\n       })\n     },\n     // 点击剧照进行预览\n     previewPlotPics (index) {\n       var me = this;\n       uni.previewImage({\n         urls: me.detailData.plotPics,\n         current: index\n       })\n     },\n     // 点击演职人员图片进行预览\n     previewPersonnePics (index) {\n       var me = this;\n       var previewAllArr = []\n       me.directorlData.forEach( (item)=> {\n         previewAllArr.push(item.photo)\n       })\n       me.performerData.forEach( (item)=> {\n         previewAllArr.push(item.photo)\n       })\n       uni.previewImage({\n         urls: previewAllArr,\n         current: index\n       })\n     },\n     // 跳转至影片封面操作页面\n     toDetailPicPage (cover) {\n       uni.navigateTo({\n         url:\"../detailPic/detailPic?cover=\" + cover\n       })\n     }\n    \n  }\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589421317970\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}